<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Wed Jul 11 11:42:03 GMT 2018 -->
<title>Shell (libsu API)</title>
<meta name="date" content="2018-07-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Shell (libsu API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":9,"i2":9,"i3":9,"i4":10,"i5":6,"i6":6,"i7":6,"i8":9,"i9":9,"i10":9,"i11":6,"i12":6,"i13":9,"i14":9,"i15":9,"i16":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/topjohnwu/superuser/NoShellException.html" title="class in com.topjohnwu.superuser"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/topjohnwu/superuser/Shell.Async.html" title="class in com.topjohnwu.superuser"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/topjohnwu/superuser/Shell.html" target="_top">Frames</a></li>
<li><a href="Shell.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.topjohnwu.superuser</div>
<h2 title="Class Shell" class="title">Class Shell</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.topjohnwu.superuser.Shell</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">Shell</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></pre>
<div class="block">A class providing an API to an interactive (root) shell.
 <p>
 This class can be put into 3 categories: the static methods, which are some utility functions;
 the methods in <a href="../../../com/topjohnwu/superuser/Shell.Sync.html" title="class in com.topjohnwu.superuser"><code>Shell.Sync</code></a> and <a href="../../../com/topjohnwu/superuser/Shell.Async.html" title="class in com.topjohnwu.superuser"><code>Shell.Async</code></a>, which are high level APIs using the global
 <code>Shell</code> instance; the instance methods, which are low level APIs interacting with the invoking
 <code>Shell</code> instance.
 <p>
 A <code>Shell</code> instance consists of a Unix shell process along with 2 additional threads to
 gobble through STDOUT and STDERR. The process itself and the 2 worker threads are always running
 in the background as long as the <code>Shell</code> instance exists unless an error occurs.
 <p>
 Creating a new root shell is an expensive operation, so the best practice for any root app is to
 create a single shell session and share it across the application. This class is designed with
 this concept in mind, and provides a very easy way to share shell sessions. One of the challenges
 in sharing a shell session is synchronization, as a single shell can only do tasks serially. This
 class does all the heavy lifting under-the-hood, providing consistent output and synchronization.
 In multi-thread environments or using the asynchronous APIs in this class, the shell and
 all callbacks are all handled with concurrency in mind, so all tasks will be queued internally.
 <p>
 A global shell means it needs a container to store the <code>Shell</code> instance.
 Generally, most developers would want to have the <code>Shell</code> instance shared globally
 across the application. In that case, the developer can directly subclass the the readily
 available <a href="../../../com/topjohnwu/superuser/Shell.ContainerApp.html" title="class in com.topjohnwu.superuser"><code>Shell.ContainerApp</code></a> (which extends <a href="https://developer.android.com/reference/android/app/Application.html?is-external=true" title="class or interface in android.app"><code>Application</code></a>) and the setup is all done.
 If it is impossible to subclass <a href="../../../com/topjohnwu/superuser/Shell.ContainerApp.html" title="class in com.topjohnwu.superuser"><code>Shell.ContainerApp</code></a>, or for some reason one would
 want to store the <code>Shell</code> instance somewhere else, the developer would need to manually
 create a volatile field in the target class for storing the <code>Shell</code> instance, implement the
 <a href="../../../com/topjohnwu/superuser/Shell.Container.html" title="interface in com.topjohnwu.superuser"><code>Shell.Container</code></a> interface to expose the new field, and finally register the container as a
 global container in its constructor by calling <a href="../../../com/topjohnwu/superuser/Shell.html#setContainer-com.topjohnwu.superuser.Shell.Container-"><code>setContainer(Container)</code></a>. If no
 <a href="../../../com/topjohnwu/superuser/Shell.Container.html" title="interface in com.topjohnwu.superuser"><code>Shell.Container</code></a> is setup, every shell related methods (including <a href="../../../com/topjohnwu/superuser/Shell.html#rootAccess--"><code>rootAccess()</code></a>)
 will respawn a new shell process, which is very inefficient.
 <p>
 The reason behind this design is to let the <code>Shell</code> instance live along with the life
 cycle of the target class. The <code>Shell</code> class statically stores a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref"><code>WeakReference</code></a>
 of the registered container, which means the container could be garbage collected if applicable.
 For example, one decides to store the <code>Shell</code> instance in an <a href="https://developer.android.com/reference/android/app/Activity.html?is-external=true" title="class or interface in android.app"><code>Activity</code></a>.
 When the <code>Activity</code> is constructed, it shall register itself as the global
 <a href="../../../com/topjohnwu/superuser/Shell.Container.html" title="interface in com.topjohnwu.superuser"><code>Shell.Container</code></a>. All root commands will be executed via the single <code>Shell</code>
 instance stored in a field of the activity as long as the activity is alive. When the activity
 is terminated (e.g. the user leaves the activity), the garbage collector will do its job and close
 the root shell, and at the same time the reference to the container will also be removed.
 <p>
 Once a global <a href="../../../com/topjohnwu/superuser/Shell.Container.html" title="interface in com.topjohnwu.superuser"><code>Shell.Container</code></a> is registered, use <a href="../../../com/topjohnwu/superuser/Shell.html#getShell--"><code>getShell()</code></a> (synchronously) or
 <a href="../../../com/topjohnwu/superuser/Shell.html#getShell-com.topjohnwu.superuser.Shell.GetShellCallback-"><code>getShell(GetShellCallback)</code></a> (asynchronously) to get the global <code>Shell</code> instance.
 However in most cases, developers do not need to get a <code>Shell</code> instance; instead use
 the helper methods in <a href="../../../com/topjohnwu/superuser/Shell.Sync.html" title="class in com.topjohnwu.superuser"><code>Shell.Sync</code></a> and <a href="../../../com/topjohnwu/superuser/Shell.Async.html" title="class in com.topjohnwu.superuser"><code>Shell.Async</code></a>, as they all use the global
 shell and provides a higher level API.
 One thing worth mentioning: <code>sh(...)</code> and <code>su(...)</code> behaves exactly the same, the
 only difference is that <code>su(...)</code> methods will only run if the underlying <code>Shell</code>
 is a root shell. This also means that <code>sh(...)</code> will run in a root environment if the
 global shell is actually a root shell.
 <p>
 The <a href="../../../com/topjohnwu/superuser/Shell.Async.html" title="class in com.topjohnwu.superuser"><code>Shell.Async</code></a> class hosts all asynchronous helper methods, and they are all
 guaranteed to return immediately: it will get shell asynchronously and run commands
 asynchronously. All asynchronous tasks are queued and executed with Android's native
 <a href="https://developer.android.com/reference/android/os/AsyncTask.html?is-external=true#THREAD_POOL_EXECUTOR" title="class or interface in android.os"><code>AsyncTask.THREAD_POOL_EXECUTOR</code></a>, so threads and execution is managed along with all other
 <a href="https://developer.android.com/reference/android/os/AsyncTask.html?is-external=true" title="class or interface in android.os"><code>AsyncTask</code></a> by the system.
 Asynchronous APIs are useful when the developer just wants to run commands and does not care the
 output at all (<a href="../../../com/topjohnwu/superuser/Shell.Async.html#su-java.lang.String...-"><code>Shell.Async.su(String...)</code></a>). One can register a <a href="../../../com/topjohnwu/superuser/Shell.Async.Callback.html" title="interface in com.topjohnwu.superuser"><code>Shell.Async.Callback</code></a>
 when the asynchronous task is done, the outputs will be passed to the callback. Furthermore,
 since the output is updated asynchronously, a more advanced callback could be done with the help
 of <a href="../../../com/topjohnwu/superuser/CallbackList.html" title="class in com.topjohnwu.superuser"><code>CallbackList</code></a>: <a href="../../../com/topjohnwu/superuser/CallbackList.html#onAddElement-E-"><code>CallbackList.onAddElement(Object)</code></a> will be invoked every time a
 new line is outputted.
 <p>
 Developers can check the example that came along with the library, it demonstrates many features
 the library has to offer.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.Async.html" title="class in com.topjohnwu.superuser">Shell.Async</a></span></code>
<div class="block">High level API for asynchronous operations</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.Container.html" title="interface in com.topjohnwu.superuser">Shell.Container</a></span></code>
<div class="block">The container to store the global <code>Shell</code> instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.ContainerApp.html" title="class in com.topjohnwu.superuser">Shell.ContainerApp</a></span></code>
<div class="block">A subclass of <a href="https://developer.android.com/reference/android/app/Application.html?is-external=true" title="class or interface in android.app"><code>Application</code></a> that implements <a href="../../../com/topjohnwu/superuser/Shell.Container.html" title="interface in com.topjohnwu.superuser"><code>Shell.Container</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.GetShellCallback.html" title="interface in com.topjohnwu.superuser">Shell.GetShellCallback</a></span></code>
<div class="block">The callback used in <a href="../../../com/topjohnwu/superuser/Shell.html#getShell-com.topjohnwu.superuser.Shell.GetShellCallback-"><code>getShell(GetShellCallback)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.Initializer.html" title="class in com.topjohnwu.superuser">Shell.Initializer</a></span></code>
<div class="block">The initializer when a new <code>Shell</code> is constructed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.Sync.html" title="class in com.topjohnwu.superuser">Shell.Sync</a></span></code>
<div class="block">High level API for synchronous operations</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.Task.html" title="interface in com.topjohnwu.superuser">Shell.Task</a></span></code>
<div class="block">A task that can be executed by a shell with the method <a href="../../../com/topjohnwu/superuser/Shell.html#execTask-com.topjohnwu.superuser.Shell.Task-"><code>execTask(Task)</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_MOUNT_MASTER">FLAG_MOUNT_MASTER</a></span></code>
<div class="block">If set, create a root shell with <code>--mount-master</code> option.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_NON_ROOT_SHELL">FLAG_NON_ROOT_SHELL</a></span></code>
<div class="block">If set, create a non-root shell by default.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_REDIRECT_STDERR">FLAG_REDIRECT_STDERR</a></span></code>
<div class="block">If set, STDERR outputs will be stored in STDOUT outputs.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_VERBOSE_LOGGING">FLAG_VERBOSE_LOGGING</a></span></code>
<div class="block">If set, verbose log everything.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#NON_ROOT_SHELL">NON_ROOT_SHELL</a></span></code>
<div class="block">Shell status: Non-root shell.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#ROOT_MOUNT_MASTER">ROOT_MOUNT_MASTER</a></span></code>
<div class="block">Shell status: Root shell with mount master enabled.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#ROOT_SHELL">ROOT_SHELL</a></span></code>
<div class="block">Shell status: Root shell.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#status">status</a></span></code>
<div class="block">The status of the shell</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#UNKNOWN">UNKNOWN</a></span></code>
<div class="block">Shell status: Unknown.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#Shell--">Shell</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#execTask-com.topjohnwu.superuser.Shell.Task-">execTask</a></span>(<a href="../../../com/topjohnwu/superuser/Shell.Task.html" title="interface in com.topjohnwu.superuser">Shell.Task</a>&nbsp;task)</code>
<div class="block">Execute a <code>Task</code> with the shell.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#getFlags--">getFlags</a></span>()</code>
<div class="block">Get special flags that controls how <code>Shell</code> works and how a new <code>Shell</code> will be
 constructed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../com/topjohnwu/superuser/Shell.html" title="class in com.topjohnwu.superuser">Shell</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#getShell--">getShell</a></span>()</code>
<div class="block">Get a <code>Shell</code> instance from the global container.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#getShell-com.topjohnwu.superuser.Shell.GetShellCallback-">getShell</a></span>(<a href="../../../com/topjohnwu/superuser/Shell.GetShellCallback.html" title="interface in com.topjohnwu.superuser">Shell.GetShellCallback</a>&nbsp;callback)</code>
<div class="block">Get a <code>Shell</code> instance from the global container and call a callback.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#getStatus--">getStatus</a></span>()</code>
<div class="block">Get the status of the shell.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#isAlive--">isAlive</a></span>()</code>
<div class="block">Return whether the <code>Shell</code> is still alive.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>abstract <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#loadInputStream-java.util.List-java.util.List-java.io.InputStream-">loadInputStream</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;outList,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;errList,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</code>
<div class="block">Synchronously load an inputstream to the shell and stores outputs to the two lists.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#loadInputStream-java.util.List-java.util.List-com.topjohnwu.superuser.Shell.Async.Callback-java.io.InputStream-">loadInputStream</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;outList,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;errList,
               <a href="../../../com/topjohnwu/superuser/Shell.Async.Callback.html" title="interface in com.topjohnwu.superuser">Shell.Async.Callback</a>&nbsp;callback,
               <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</code>
<div class="block">Asynchronously load an input stream to the shell, stores outputs to the two lists, and call
 the callback when the execution is done.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static <a href="../../../com/topjohnwu/superuser/Shell.html" title="class in com.topjohnwu.superuser">Shell</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#newInstance--">newInstance</a></span>()</code>
<div class="block">Construct a new <code>Shell</code> instance with the default methods.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/topjohnwu/superuser/Shell.html" title="class in com.topjohnwu.superuser">Shell</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#newInstance-java.lang.String...-">newInstance</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;commands)</code>
<div class="block">Construct a new <code>Shell</code> instance with provided commands.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#rootAccess--">rootAccess</a></span>()</code>
<div class="block">Return whether the global shell has root access.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#run-java.util.List-java.util.List-com.topjohnwu.superuser.Shell.Async.Callback-java.lang.String...-">run</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;outList,
   <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;errList,
   <a href="../../../com/topjohnwu/superuser/Shell.Async.Callback.html" title="interface in com.topjohnwu.superuser">Shell.Async.Callback</a>&nbsp;callback,
   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;commands)</code>
<div class="block">Asynchronously run commands, stores outputs to the two lists, and call the callback when
 all commands are done.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>abstract <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#run-java.util.List-java.util.List-java.lang.String...-">run</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;outList,
   <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;errList,
   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;commands)</code>
<div class="block">Synchronously run commands and stores outputs to the two lists.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#setContainer-com.topjohnwu.superuser.Shell.Container-">setContainer</a></span>(<a href="../../../com/topjohnwu/superuser/Shell.Container.html" title="interface in com.topjohnwu.superuser">Shell.Container</a>&nbsp;container)</code>
<div class="block">Set the container to store the global <code>Shell</code> instance.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#setFlags-int-">setFlags</a></span>(int&nbsp;flags)</code>
<div class="block">Set special flags that controls how <code>Shell</code> works and how a new <code>Shell</code> will be
 constructed.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#setInitializer-java.lang.Class-">setInitializer</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../com/topjohnwu/superuser/Shell.Initializer.html" title="class in com.topjohnwu.superuser">Shell.Initializer</a>&gt;&nbsp;init)</code>
<div class="block">Set a desired <code>Initializer</code>.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/topjohnwu/superuser/Shell.html#verboseLogging-boolean-">verboseLogging</a></span>(boolean&nbsp;verbose)</code>
<div class="block">Set whether enable verbose logging.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.io.Closeable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.io.<a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true#close--" title="class or interface in java.io">close</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="FLAG_MOUNT_MASTER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FLAG_MOUNT_MASTER</h4>
<pre>public static final&nbsp;int FLAG_MOUNT_MASTER</pre>
<div class="block">If set, create a root shell with <code>--mount-master</code> option.
 <p>
 Constant value 2.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.topjohnwu.superuser.Shell.FLAG_MOUNT_MASTER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FLAG_NON_ROOT_SHELL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FLAG_NON_ROOT_SHELL</h4>
<pre>public static final&nbsp;int FLAG_NON_ROOT_SHELL</pre>
<div class="block">If set, create a non-root shell by default.
 <p>
 Constant value 1.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.topjohnwu.superuser.Shell.FLAG_NON_ROOT_SHELL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FLAG_REDIRECT_STDERR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FLAG_REDIRECT_STDERR</h4>
<pre>public static final&nbsp;int FLAG_REDIRECT_STDERR</pre>
<div class="block">If set, STDERR outputs will be stored in STDOUT outputs.
 <p>
 Note: This flag affects all methods in <a href="../../../com/topjohnwu/superuser/Shell.Sync.html" title="class in com.topjohnwu.superuser"><code>Shell.Sync</code></a> <a href="../../../com/topjohnwu/superuser/Shell.Async.html" title="class in com.topjohnwu.superuser"><code>Shell.Async</code></a> except:
 <ul>
     <li><a href="../../../com/topjohnwu/superuser/Shell.Sync.html#sh-java.util.List-java.util.List-java.lang.String...-"><code>Shell.Sync.sh(List, List, String...)</code></a></li>
     <li><a href="../../../com/topjohnwu/superuser/Shell.Sync.html#su-java.util.List-java.util.List-java.lang.String...-"><code>Shell.Sync.su(List, List, String...)</code></a></li>
     <li><a href="../../../com/topjohnwu/superuser/Shell.Sync.html#loadScript-java.util.List-java.util.List-java.io.InputStream-"><code>Shell.Sync.loadScript(List, List, InputStream)</code></a></li>
     <li><a href="../../../com/topjohnwu/superuser/Shell.Async.html#sh-java.util.List-java.util.List-java.lang.String...-"><code>Shell.Async.sh(List, List, String...)</code></a></li>
     <li><a href="../../../com/topjohnwu/superuser/Shell.Async.html#sh-java.util.List-java.util.List-com.topjohnwu.superuser.Shell.Async.Callback-java.lang.String...-"><code>Shell.Async.sh(List, List, Shell.Async.Callback, String...)</code></a></li>
     <li><a href="../../../com/topjohnwu/superuser/Shell.Async.html#su-java.util.List-java.util.List-java.lang.String...-"><code>Shell.Async.su(List, List, String...)</code></a></li>
     <li><a href="../../../com/topjohnwu/superuser/Shell.Async.html#su-java.util.List-java.util.List-com.topjohnwu.superuser.Shell.Async.Callback-java.lang.String...-"><code>Shell.Async.su(List, List, Shell.Async.Callback, String...)</code></a></li>
     <li><a href="../../../com/topjohnwu/superuser/Shell.Async.html#loadScript-java.util.List-java.util.List-java.io.InputStream-"><code>Shell.Async.loadScript(List, List, InputStream)</code></a></li>
     <li><a href="../../../com/topjohnwu/superuser/Shell.Async.html#loadScript-java.util.List-java.util.List-com.topjohnwu.superuser.Shell.Async.Callback-java.io.InputStream-"><code>Shell.Async.loadScript(List, List, Shell.Async.Callback, InputStream)</code></a></li>
 </ul>
 <p>
 Constant value 8.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.topjohnwu.superuser.Shell.FLAG_REDIRECT_STDERR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="FLAG_VERBOSE_LOGGING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FLAG_VERBOSE_LOGGING</h4>
<pre>public static final&nbsp;int FLAG_VERBOSE_LOGGING</pre>
<div class="block">If set, verbose log everything.
 <p>
 Constant value 4.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.topjohnwu.superuser.Shell.FLAG_VERBOSE_LOGGING">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NON_ROOT_SHELL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NON_ROOT_SHELL</h4>
<pre>public static final&nbsp;int NON_ROOT_SHELL</pre>
<div class="block">Shell status: Non-root shell. One possible result of <a href="../../../com/topjohnwu/superuser/Shell.html#getStatus--"><code>getStatus()</code></a>.
 <p>
 Constant value 0.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.topjohnwu.superuser.Shell.NON_ROOT_SHELL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ROOT_MOUNT_MASTER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROOT_MOUNT_MASTER</h4>
<pre>public static final&nbsp;int ROOT_MOUNT_MASTER</pre>
<div class="block">Shell status: Root shell with mount master enabled. One possible result of <a href="../../../com/topjohnwu/superuser/Shell.html#getStatus--"><code>getStatus()</code></a>.
 <p>
 Constant value 2.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.topjohnwu.superuser.Shell.ROOT_MOUNT_MASTER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ROOT_SHELL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROOT_SHELL</h4>
<pre>public static final&nbsp;int ROOT_SHELL</pre>
<div class="block">Shell status: Root shell. One possible result of <a href="../../../com/topjohnwu/superuser/Shell.html#getStatus--"><code>getStatus()</code></a>.
 <p>
 Constant value 1.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.topjohnwu.superuser.Shell.ROOT_SHELL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="status">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>status</h4>
<pre>protected&nbsp;int status</pre>
<div class="block">The status of the shell</div>
</li>
</ul>
<a name="UNKNOWN">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UNKNOWN</h4>
<pre>public static final&nbsp;int UNKNOWN</pre>
<div class="block">Shell status: Unknown. One possible result of <a href="../../../com/topjohnwu/superuser/Shell.html#getStatus--"><code>getStatus()</code></a>.
 <p>
 Constant value -1.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.topjohnwu.superuser.Shell.UNKNOWN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Shell--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Shell</h4>
<pre>public&nbsp;Shell()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="execTask-com.topjohnwu.superuser.Shell.Task-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>execTask</h4>
<pre>public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;execTask(<a href="../../../com/topjohnwu/superuser/Shell.Task.html" title="interface in com.topjohnwu.superuser">Shell.Task</a>&nbsp;task)</pre>
<div class="block">Execute a <code>Task</code> with the shell.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>task</code> - the desired task.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang"><code>Throwable</code></a> thrown in <a href="../../../com/topjohnwu/superuser/Shell.html#run-java.util.List-java.util.List-java.lang.String...-"><code>run(List, List, String...)</code></a>,
         <code>null</code> if nothing is thrown.</dd>
</dl>
</li>
</ul>
<a name="getFlags--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFlags</h4>
<pre>public static&nbsp;int&nbsp;getFlags()</pre>
<div class="block">Get special flags that controls how <code>Shell</code> works and how a new <code>Shell</code> will be
 constructed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the flags</dd>
</dl>
</li>
</ul>
<a name="getShell--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getShell</h4>
<pre>public static&nbsp;<a href="../../../com/topjohnwu/superuser/Shell.html" title="class in com.topjohnwu.superuser">Shell</a>&nbsp;getShell()</pre>
<div class="block">Get a <code>Shell</code> instance from the global container.
 If the global container is not set, or the container has not contained any <code>Shell</code> yet,
 it will call <a href="../../../com/topjohnwu/superuser/Shell.html#newInstance--"><code>newInstance()</code></a> to construct a new <code>Shell</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Shell</code> instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../com/topjohnwu/superuser/Shell.html#newInstance--"><code>newInstance()</code></a></dd>
</dl>
</li>
</ul>
<a name="getShell-com.topjohnwu.superuser.Shell.GetShellCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getShell</h4>
<pre>public static&nbsp;void&nbsp;getShell(<a href="../../../com/topjohnwu/superuser/Shell.GetShellCallback.html" title="interface in com.topjohnwu.superuser">Shell.GetShellCallback</a>&nbsp;callback)</pre>
<div class="block">Get a <code>Shell</code> instance from the global container and call a callback.
 When the global container is set and contains a shell, the callback will be called immediately,
 or else it will queue a new asynchronous task to call <a href="../../../com/topjohnwu/superuser/Shell.html#newInstance--"><code>newInstance()</code></a> and the callback.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - called when a shell is acquired.</dd>
</dl>
</li>
</ul>
<a name="getStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatus</h4>
<pre>public&nbsp;int&nbsp;getStatus()</pre>
<div class="block">Get the status of the shell.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the status of the shell.
         Value is either <a href="../../../com/topjohnwu/superuser/Shell.html#UNKNOWN"><code>UNKNOWN</code></a>, <a href="../../../com/topjohnwu/superuser/Shell.html#NON_ROOT_SHELL"><code>NON_ROOT_SHELL</code></a>, <a href="../../../com/topjohnwu/superuser/Shell.html#ROOT_SHELL"><code>ROOT_SHELL</code></a>, or
         <a href="../../../com/topjohnwu/superuser/Shell.html#ROOT_MOUNT_MASTER"><code>ROOT_MOUNT_MASTER</code></a></dd>
</dl>
</li>
</ul>
<a name="isAlive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAlive</h4>
<pre>public abstract&nbsp;boolean&nbsp;isAlive()</pre>
<div class="block">Return whether the <code>Shell</code> is still alive.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the <code>Shell</code> is still alive.</dd>
</dl>
</li>
</ul>
<a name="loadInputStream-java.util.List-java.util.List-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadInputStream</h4>
<pre>public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;loadInputStream(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;outList,
                                          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;errList,
                                          <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</pre>
<div class="block">Synchronously load an inputstream to the shell and stores outputs to the two lists.
 <p>
 This command is useful for loading a script stored in the APK. An InputStream can be opened
 from assets with <a href="https://developer.android.com/reference/android/content/res/AssetManager.html?is-external=true#open-java.lang.String-" title="class or interface in android.content.res"><code>AssetManager.open(String)</code></a> or from raw resources
 with <a href="https://developer.android.com/reference/android/content/res/Resources.html?is-external=true#openRawResource-int-" title="class or interface in android.content.res"><code>Resources.openRawResource(int)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>outList</code> - the list storing STDOUT outputs. <code>null</code> to ignore outputs.</dd>
<dd><code>errList</code> - the list storing STDERR outputs. <code>null</code> to ignore outputs.</dd>
<dd><code>in</code> - the InputStream to load</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang"><code>Throwable</code></a> thrown while loading inputstream , <code>null</code> if nothing is thrown.</dd>
</dl>
</li>
</ul>
<a name="loadInputStream-java.util.List-java.util.List-com.topjohnwu.superuser.Shell.Async.Callback-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadInputStream</h4>
<pre>public abstract&nbsp;void&nbsp;loadInputStream(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;outList,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;errList,
                                     <a href="../../../com/topjohnwu/superuser/Shell.Async.Callback.html" title="interface in com.topjohnwu.superuser">Shell.Async.Callback</a>&nbsp;callback,
                                     <a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</pre>
<div class="block">Asynchronously load an input stream to the shell, stores outputs to the two lists, and call
 the callback when the execution is done.
 <p>
 This command is useful for loading a script stored in the APK. An InputStream can be opened
 from assets with <a href="https://developer.android.com/reference/android/content/res/AssetManager.html?is-external=true#open-java.lang.String-" title="class or interface in android.content.res"><code>AssetManager.open(String)</code></a> or from raw resources
 with <a href="https://developer.android.com/reference/android/content/res/Resources.html?is-external=true#openRawResource-int-" title="class or interface in android.content.res"><code>Resources.openRawResource(int)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>outList</code> - the list storing STDOUT outputs. <code>null</code> to ignore outputs.</dd>
<dd><code>errList</code> - the list storing STDERR outputs. <code>null</code> to ignore outputs.</dd>
<dd><code>callback</code> - the callback when the execution is done.</dd>
<dd><code>in</code> - the InputStream to load</dd>
</dl>
</li>
</ul>
<a name="newInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newInstance</h4>
<pre>public static&nbsp;<a href="../../../com/topjohnwu/superuser/Shell.html" title="class in com.topjohnwu.superuser">Shell</a>&nbsp;newInstance()</pre>
<div class="block">Construct a new <code>Shell</code> instance with the default methods.
 <p>
 There are 3 methods to construct a Unix shell; if any method fails, it will fallback to the
 next method:
 <ol>
     <li>If <a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_NON_ROOT_SHELL"><code>FLAG_NON_ROOT_SHELL</code></a> is not set and <a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_MOUNT_MASTER"><code>FLAG_MOUNT_MASTER</code></a>
     is set, construct a Unix shell by calling <code>su --mount-master</code>.
     It may fail if the root implementation does not support mount master.</li>
     <li>If <a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_NON_ROOT_SHELL"><code>FLAG_NON_ROOT_SHELL</code></a> is not set, construct a Unix shell by calling
     <code>su</code>. It may fail if the device is not rooted, or root permission is not granted.</li>
     <li>Construct a Unix shell by calling <code>sh</code>. This would not fail in normal
     conditions, but should it fails, it will throw <a href="../../../com/topjohnwu/superuser/NoShellException.html" title="class in com.topjohnwu.superuser"><code>NoShellException</code></a></li>
 </ol>
 The developer should check the status of the returned <code>Shell</code> with <a href="../../../com/topjohnwu/superuser/Shell.html#getStatus--"><code>getStatus()</code></a>
 since it may return the result of any of the 3 possible methods.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new <code>Shell</code> instance.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/topjohnwu/superuser/NoShellException.html" title="class in com.topjohnwu.superuser">NoShellException</a></code> - impossible to construct <code>Shell</code> instance, or initialization
 failed when using the <a href="../../../com/topjohnwu/superuser/Shell.Initializer.html" title="class in com.topjohnwu.superuser"><code>Shell.Initializer</code></a> set in <a href="../../../com/topjohnwu/superuser/Shell.html#setInitializer-java.lang.Class-"><code>setInitializer(Class)</code></a>.</dd>
</dl>
</li>
</ul>
<a name="newInstance-java.lang.String...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newInstance</h4>
<pre>public static&nbsp;<a href="../../../com/topjohnwu/superuser/Shell.html" title="class in com.topjohnwu.superuser">Shell</a>&nbsp;newInstance(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;commands)</pre>
<div class="block">Construct a new <code>Shell</code> instance with provided commands.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commands</code> - commands that will be passed to <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html?is-external=true#exec-java.lang.String:A-" title="class or interface in java.lang"><code>Runtime.exec(String[])</code></a> to create
                 a new <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html?is-external=true" title="class or interface in java.lang"><code>Process</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new <code>Shell</code> instance.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/topjohnwu/superuser/NoShellException.html" title="class in com.topjohnwu.superuser">NoShellException</a></code> - the provided command cannot create a <code>Shell</code> instance, or
 initialization failed when using the <a href="../../../com/topjohnwu/superuser/Shell.Initializer.html" title="class in com.topjohnwu.superuser"><code>Shell.Initializer</code></a> set in <a href="../../../com/topjohnwu/superuser/Shell.html#setInitializer-java.lang.Class-"><code>setInitializer(Class)</code></a>.</dd>
</dl>
</li>
</ul>
<a name="rootAccess--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rootAccess</h4>
<pre>public static&nbsp;boolean&nbsp;rootAccess()</pre>
<div class="block">Return whether the global shell has root access.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the global shell has root access.</dd>
</dl>
</li>
</ul>
<a name="run-java.util.List-java.util.List-com.topjohnwu.superuser.Shell.Async.Callback-java.lang.String...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public abstract&nbsp;void&nbsp;run(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;outList,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;errList,
                         <a href="../../../com/topjohnwu/superuser/Shell.Async.Callback.html" title="interface in com.topjohnwu.superuser">Shell.Async.Callback</a>&nbsp;callback,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;commands)</pre>
<div class="block">Asynchronously run commands, stores outputs to the two lists, and call the callback when
 all commands are done.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>outList</code> - the list storing STDOUT outputs. <code>null</code> to ignore outputs.</dd>
<dd><code>errList</code> - the list storing STDERR outputs. <code>null</code> to ignore outputs.</dd>
<dd><code>callback</code> - the callback when all commands are done.</dd>
<dd><code>commands</code> - the commands to run in the shell.</dd>
</dl>
</li>
</ul>
<a name="run-java.util.List-java.util.List-java.lang.String...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;run(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;outList,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;errList,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>...&nbsp;commands)</pre>
<div class="block">Synchronously run commands and stores outputs to the two lists.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>outList</code> - the list storing STDOUT outputs. <code>null</code> to ignore outputs.</dd>
<dd><code>errList</code> - the list storing STDERR outputs. <code>null</code> to ignore outputs.</dd>
<dd><code>commands</code> - the commands to run in the shell.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang"><code>Throwable</code></a> thrown while running the commands, <code>null</code> if nothing is thrown.</dd>
</dl>
</li>
</ul>
<a name="setContainer-com.topjohnwu.superuser.Shell.Container-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setContainer</h4>
<pre>public static&nbsp;void&nbsp;setContainer(<a href="../../../com/topjohnwu/superuser/Shell.Container.html" title="interface in com.topjohnwu.superuser">Shell.Container</a>&nbsp;container)</pre>
<div class="block">Set the container to store the global <code>Shell</code> instance.
 <p>
 Future shell commands using static method APIs will automatically obtain a <code>Shell</code>
 from the container with <a href="../../../com/topjohnwu/superuser/Shell.html#getShell--"><code>getShell()</code></a> or <a href="../../../com/topjohnwu/superuser/Shell.html#getShell-com.topjohnwu.superuser.Shell.GetShellCallback-"><code>getShell(GetShellCallback)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>container</code> - the container to store the global <code>Shell</code> instance.</dd>
</dl>
</li>
</ul>
<a name="setFlags-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFlags</h4>
<pre>public static&nbsp;void&nbsp;setFlags(int&nbsp;flags)</pre>
<div class="block">Set special flags that controls how <code>Shell</code> works and how a new <code>Shell</code> will be
 constructed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flags</code> - the desired flags.
              Value is either 0 or a combination of <a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_NON_ROOT_SHELL"><code>FLAG_NON_ROOT_SHELL</code></a>,
              <a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_VERBOSE_LOGGING"><code>FLAG_VERBOSE_LOGGING</code></a>, <a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_MOUNT_MASTER"><code>FLAG_MOUNT_MASTER</code></a>,
              <a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_REDIRECT_STDERR"><code>FLAG_REDIRECT_STDERR</code></a></dd>
</dl>
</li>
</ul>
<a name="setInitializer-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInitializer</h4>
<pre>public static&nbsp;void&nbsp;setInitializer(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../com/topjohnwu/superuser/Shell.Initializer.html" title="class in com.topjohnwu.superuser">Shell.Initializer</a>&gt;&nbsp;init)</pre>
<div class="block">Set a desired <code>Initializer</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>init</code> - the class of the desired initializer.
             <strong>If it is a nested class, it MUST be a static nested class!!</strong></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../com/topjohnwu/superuser/Shell.Initializer.html" title="class in com.topjohnwu.superuser"><code>Shell.Initializer</code></a></dd>
</dl>
</li>
</ul>
<a name="verboseLogging-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>verboseLogging</h4>
<pre>public static&nbsp;void&nbsp;verboseLogging(boolean&nbsp;verbose)</pre>
<div class="block">Set whether enable verbose logging.
 <p>
 This is just a handy function to toggle verbose logging with a boolean value.
 For example: <code>Shell.verboseLogging(BuildConfig.DEBUG)</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>verbose</code> - if true, add <a href="../../../com/topjohnwu/superuser/Shell.html#FLAG_VERBOSE_LOGGING"><code>FLAG_VERBOSE_LOGGING</code></a> to flags.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/topjohnwu/superuser/NoShellException.html" title="class in com.topjohnwu.superuser"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/topjohnwu/superuser/Shell.Async.html" title="class in com.topjohnwu.superuser"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/topjohnwu/superuser/Shell.html" target="_top">Frames</a></li>
<li><a href="Shell.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
